"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stream/route";
exports.ids = ["app/api/stream/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_rohan_Downloads_ai_queue_buddy_app_api_stream_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/stream/route.js */ \"(rsc)/./app/api/stream/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stream/route\",\n        pathname: \"/api/stream\",\n        filename: \"route\",\n        bundlePath: \"app/api/stream/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\rohan\\\\Downloads\\\\ai-queue-buddy\\\\app\\\\api\\\\stream\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_rohan_Downloads_ai_queue_buddy_app_api_stream_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/stream/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdHJlYW0lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNyb2hhbiU1Q0Rvd25sb2FkcyU1Q2FpLXF1ZXVlLWJ1ZGR5JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNyb2hhbiU1Q0Rvd25sb2FkcyU1Q2FpLXF1ZXVlLWJ1ZGR5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN1QjtBQUNwRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXF1ZXVlLWJ1ZGR5Lz8wNDU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHJvaGFuXFxcXERvd25sb2Fkc1xcXFxhaS1xdWV1ZS1idWRkeVxcXFxhcHBcXFxcYXBpXFxcXHN0cmVhbVxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3RyZWFtL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RyZWFtXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zdHJlYW0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxyb2hhblxcXFxEb3dubG9hZHNcXFxcYWktcXVldWUtYnVkZHlcXFxcYXBwXFxcXGFwaVxcXFxzdHJlYW1cXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3N0cmVhbS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/stream/route.js":
/*!*********************************!*\
  !*** ./app/api/stream/route.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/store */ \"(rsc)/./lib/store.js\");\n\nconst runtime = \"nodejs\";\nasync function GET() {\n    const stream = new ReadableStream({\n        start (controller) {\n            function send(data) {\n                controller.enqueue(new TextEncoder().encode(`data: ${data}\\n\\n`));\n            }\n            const handler = (data)=>send(data);\n            (0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.onUpdate)(handler);\n            // send initial\n            send(JSON.stringify((0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.snapshot)()));\n            const interval = setInterval(()=>send(JSON.stringify((0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.snapshot)())), 15000);\n            controller.close = ()=>{}; // no-op\n            controller.error = ()=>{};\n            return ()=>{\n                (0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.offUpdate)(handler);\n                clearInterval(interval);\n            };\n        }\n    });\n    return new Response(stream, {\n        headers: {\n            \"Content-Type\": \"text/event-stream\",\n            \"Cache-Control\": \"no-cache\",\n            \"Connection\": \"keep-alive\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3N0cmVhbS9yb3V0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDNEQ7QUFFckQsTUFBTUcsVUFBVSxTQUFTO0FBRXpCLGVBQWVDO0lBQ3BCLE1BQU1DLFNBQVMsSUFBSUMsZUFBZTtRQUNoQ0MsT0FBTUMsVUFBVTtZQUNkLFNBQVNDLEtBQUtDLElBQUk7Z0JBQ2hCRixXQUFXRyxPQUFPLENBQUMsSUFBSUMsY0FBY0MsTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFSCxLQUFLLElBQUksQ0FBQztZQUNqRTtZQUNBLE1BQU1JLFVBQVUsQ0FBQ0osT0FBU0QsS0FBS0M7WUFDL0JWLG9EQUFRQSxDQUFDYztZQUNULGVBQWU7WUFDZkwsS0FBS00sS0FBS0MsU0FBUyxDQUFDZCxvREFBUUE7WUFDNUIsTUFBTWUsV0FBV0MsWUFBWSxJQUFNVCxLQUFLTSxLQUFLQyxTQUFTLENBQUNkLG9EQUFRQSxNQUFNO1lBQ3JFTSxXQUFXVyxLQUFLLEdBQUcsS0FBTyxHQUFHLFFBQVE7WUFDckNYLFdBQVdZLEtBQUssR0FBRyxLQUFPO1lBQzFCLE9BQU87Z0JBQ0xuQixxREFBU0EsQ0FBQ2E7Z0JBQ1ZPLGNBQWNKO1lBQ2hCO1FBQ0Y7SUFDRjtJQUNBLE9BQU8sSUFBSUssU0FBU2pCLFFBQVE7UUFDMUJrQixTQUFTO1lBQ1AsZ0JBQWdCO1lBQ2hCLGlCQUFpQjtZQUNqQixjQUFjO1FBQ2hCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXF1ZXVlLWJ1ZGR5Ly4vYXBwL2FwaS9zdHJlYW0vcm91dGUuanM/ZjEyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IG9uVXBkYXRlLCBvZmZVcGRhdGUsIHNuYXBzaG90IH0gZnJvbSAnQC9saWIvc3RvcmUnO1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9ICdub2RlanMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIGZ1bmN0aW9uIHNlbmQoZGF0YSkge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGBkYXRhOiAke2RhdGF9XFxuXFxuYCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgaGFuZGxlciA9IChkYXRhKSA9PiBzZW5kKGRhdGEpO1xuICAgICAgb25VcGRhdGUoaGFuZGxlcik7XG4gICAgICAvLyBzZW5kIGluaXRpYWxcbiAgICAgIHNlbmQoSlNPTi5zdHJpbmdpZnkoc25hcHNob3QoKSkpO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiBzZW5kKEpTT04uc3RyaW5naWZ5KHNuYXBzaG90KCkpKSwgMTUwMDApO1xuICAgICAgY29udHJvbGxlci5jbG9zZSA9ICgpID0+IHt9OyAvLyBuby1vcFxuICAgICAgY29udHJvbGxlci5lcnJvciA9ICgpID0+IHt9O1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgb2ZmVXBkYXRlKGhhbmRsZXIpO1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvZXZlbnQtc3RyZWFtJyxcbiAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnXG4gICAgfVxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJvblVwZGF0ZSIsIm9mZlVwZGF0ZSIsInNuYXBzaG90IiwicnVudGltZSIsIkdFVCIsInN0cmVhbSIsIlJlYWRhYmxlU3RyZWFtIiwic3RhcnQiLCJjb250cm9sbGVyIiwic2VuZCIsImRhdGEiLCJlbnF1ZXVlIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJoYW5kbGVyIiwiSlNPTiIsInN0cmluZ2lmeSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbG9zZSIsImVycm9yIiwiY2xlYXJJbnRlcnZhbCIsIlJlc3BvbnNlIiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/stream/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/store.js":
/*!**********************!*\
  !*** ./lib/store.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearDisruption: () => (/* binding */ clearDisruption),\n/* harmony export */   completeNext: () => (/* binding */ completeNext),\n/* harmony export */   getTicket: () => (/* binding */ getTicket),\n/* harmony export */   join: () => (/* binding */ join),\n/* harmony export */   offUpdate: () => (/* binding */ offUpdate),\n/* harmony export */   onUpdate: () => (/* binding */ onUpdate),\n/* harmony export */   setDisruption: () => (/* binding */ setDisruption),\n/* harmony export */   skip: () => (/* binding */ skip),\n/* harmony export */   snapshot: () => (/* binding */ snapshot)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Singleton-like module state\nconst emitter = global.__queue_emitter || new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\nif (!global.__queue_emitter) global.__queue_emitter = emitter;\nconst state = global.__queue_state || {\n    tickets: [],\n    disruptions: null,\n    lastUpdated: Date.now()\n};\nif (!global.__queue_state) global.__queue_state = state;\nfunction broadcast() {\n    state.lastUpdated = Date.now();\n    emitter.emit(\"update\", JSON.stringify(snapshot()));\n}\nfunction snapshot() {\n    // recompute positions & simple ETA\n    const active = state.tickets.filter((t)=>t.status === \"waiting\");\n    active.forEach((t, idx)=>t.position = idx + 1);\n    const avgPerPerson = 3; // minutes per ticket (demo)\n    active.forEach((t, idx)=>{\n        const base = idx * avgPerPerson;\n        const extra = state.disruptions?.delayMinutes || 0;\n        t.eta = new Date(Date.now() + (base + extra) * 60000).toISOString();\n    });\n    return {\n        tickets: state.tickets,\n        disruptions: state.disruptions,\n        serverTime: Date.now()\n    };\n}\nfunction join(name = \"Guest\") {\n    const id = (0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)();\n    state.tickets.push({\n        id,\n        name,\n        joinedAt: Date.now(),\n        status: \"waiting\",\n        position: 0,\n        eta: null\n    });\n    broadcast();\n    return {\n        id\n    };\n}\nfunction getTicket(id) {\n    return state.tickets.find((t)=>t.id === id);\n}\nfunction completeNext() {\n    const next = state.tickets.find((t)=>t.status === \"waiting\");\n    if (next) next.status = \"completed\";\n    broadcast();\n    return next;\n}\nfunction skip(id) {\n    const t = getTicket(id);\n    if (t && t.status === \"waiting\") {\n        t.status = \"skipped\";\n        broadcast();\n    }\n}\nfunction setDisruption(message, delayMinutes = 10) {\n    state.disruptions = {\n        message,\n        delayMinutes,\n        at: Date.now()\n    };\n    broadcast();\n}\nfunction clearDisruption() {\n    state.disruptions = null;\n    broadcast();\n}\nfunction onUpdate(fn) {\n    emitter.on(\"update\", fn);\n}\nfunction offUpdate(fn) {\n    emitter.off(\"update\", fn);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGliL3N0b3JlLmpzPzA0YWQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ2NyeXB0byc7XG5cbi8vIFNpbmdsZXRvbi1saWtlIG1vZHVsZSBzdGF0ZVxuY29uc3QgZW1pdHRlciA9IGdsb2JhbC5fX3F1ZXVlX2VtaXR0ZXIgfHwgbmV3IEV2ZW50RW1pdHRlcigpO1xuaWYgKCFnbG9iYWwuX19xdWV1ZV9lbWl0dGVyKSBnbG9iYWwuX19xdWV1ZV9lbWl0dGVyID0gZW1pdHRlcjtcblxuY29uc3Qgc3RhdGUgPSBnbG9iYWwuX19xdWV1ZV9zdGF0ZSB8fCB7XG4gIHRpY2tldHM6IFtdLCAvLyB7aWQsIG5hbWUsIGpvaW5lZEF0LCBzdGF0dXMsIGV0YSwgcG9zaXRpb259XG4gIGRpc3J1cHRpb25zOiBudWxsLCAvLyB7IG1lc3NhZ2UsIGRlbGF5TWludXRlcyB9XG4gIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpXG59O1xuaWYgKCFnbG9iYWwuX19xdWV1ZV9zdGF0ZSkgZ2xvYmFsLl9fcXVldWVfc3RhdGUgPSBzdGF0ZTtcblxuZnVuY3Rpb24gYnJvYWRjYXN0KCkge1xuICBzdGF0ZS5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gIGVtaXR0ZXIuZW1pdCgndXBkYXRlJywgSlNPTi5zdHJpbmdpZnkoc25hcHNob3QoKSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc25hcHNob3QoKSB7XG4gIC8vIHJlY29tcHV0ZSBwb3NpdGlvbnMgJiBzaW1wbGUgRVRBXG4gIGNvbnN0IGFjdGl2ZSA9IHN0YXRlLnRpY2tldHMuZmlsdGVyKHQgPT4gdC5zdGF0dXMgPT09ICd3YWl0aW5nJyk7XG4gIGFjdGl2ZS5mb3JFYWNoKCh0LCBpZHgpID0+IHQucG9zaXRpb24gPSBpZHggKyAxKTtcbiAgY29uc3QgYXZnUGVyUGVyc29uID0gMzsgLy8gbWludXRlcyBwZXIgdGlja2V0IChkZW1vKVxuICBhY3RpdmUuZm9yRWFjaCgodCwgaWR4KSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IChpZHgpICogYXZnUGVyUGVyc29uO1xuICAgIGNvbnN0IGV4dHJhID0gc3RhdGUuZGlzcnVwdGlvbnM/LmRlbGF5TWludXRlcyB8fCAwO1xuICAgIHQuZXRhID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIChiYXNlICsgZXh0cmEpKjYwMDAwKS50b0lTT1N0cmluZygpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0aWNrZXRzOiBzdGF0ZS50aWNrZXRzLFxuICAgIGRpc3J1cHRpb25zOiBzdGF0ZS5kaXNydXB0aW9ucyxcbiAgICBzZXJ2ZXJUaW1lOiBEYXRlLm5vdygpXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqb2luKG5hbWU9J0d1ZXN0Jykge1xuICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgc3RhdGUudGlja2V0cy5wdXNoKHsgaWQsIG5hbWUsIGpvaW5lZEF0OiBEYXRlLm5vdygpLCBzdGF0dXM6ICd3YWl0aW5nJywgcG9zaXRpb246IDAsIGV0YTogbnVsbCB9KTtcbiAgYnJvYWRjYXN0KCk7XG4gIHJldHVybiB7IGlkIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaWNrZXQoaWQpIHtcbiAgcmV0dXJuIHN0YXRlLnRpY2tldHMuZmluZCh0ID0+IHQuaWQgPT09IGlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZXRlTmV4dCgpIHtcbiAgY29uc3QgbmV4dCA9IHN0YXRlLnRpY2tldHMuZmluZCh0ID0+IHQuc3RhdHVzID09PSAnd2FpdGluZycpO1xuICBpZiAobmV4dCkgbmV4dC5zdGF0dXMgPSAnY29tcGxldGVkJztcbiAgYnJvYWRjYXN0KCk7XG4gIHJldHVybiBuZXh0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2tpcChpZCkge1xuICBjb25zdCB0ID0gZ2V0VGlja2V0KGlkKTtcbiAgaWYgKHQgJiYgdC5zdGF0dXMgPT09ICd3YWl0aW5nJykge1xuICAgIHQuc3RhdHVzID0gJ3NraXBwZWQnO1xuICAgIGJyb2FkY2FzdCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREaXNydXB0aW9uKG1lc3NhZ2UsIGRlbGF5TWludXRlcz0xMCkge1xuICBzdGF0ZS5kaXNydXB0aW9ucyA9IHsgbWVzc2FnZSwgZGVsYXlNaW51dGVzLCBhdDogRGF0ZS5ub3coKSB9O1xuICBicm9hZGNhc3QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRGlzcnVwdGlvbigpIHtcbiAgc3RhdGUuZGlzcnVwdGlvbnMgPSBudWxsO1xuICBicm9hZGNhc3QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVXBkYXRlKGZuKSB7IGVtaXR0ZXIub24oJ3VwZGF0ZScsIGZuKTsgfVxuZXhwb3J0IGZ1bmN0aW9uIG9mZlVwZGF0ZShmbikgeyBlbWl0dGVyLm9mZigndXBkYXRlJywgZm4pOyB9XG4iXSwibmFtZXMiOlsiRXZlbnRFbWl0dGVyIiwicmFuZG9tVVVJRCIsImVtaXR0ZXIiLCJnbG9iYWwiLCJfX3F1ZXVlX2VtaXR0ZXIiLCJzdGF0ZSIsIl9fcXVldWVfc3RhdGUiLCJ0aWNrZXRzIiwiZGlzcnVwdGlvbnMiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJub3ciLCJicm9hZGNhc3QiLCJlbWl0IiwiSlNPTiIsInN0cmluZ2lmeSIsInNuYXBzaG90IiwiYWN0aXZlIiwiZmlsdGVyIiwidCIsInN0YXR1cyIsImZvckVhY2giLCJpZHgiLCJwb3NpdGlvbiIsImF2Z1BlclBlcnNvbiIsImJhc2UiLCJleHRyYSIsImRlbGF5TWludXRlcyIsImV0YSIsInRvSVNPU3RyaW5nIiwic2VydmVyVGltZSIsImpvaW4iLCJuYW1lIiwiaWQiLCJwdXNoIiwiam9pbmVkQXQiLCJnZXRUaWNrZXQiLCJmaW5kIiwiY29tcGxldGVOZXh0IiwibmV4dCIsInNraXAiLCJzZXREaXNydXB0aW9uIiwibWVzc2FnZSIsImF0IiwiY2xlYXJEaXNydXB0aW9uIiwib25VcGRhdGUiLCJmbiIsIm9uIiwib2ZmVXBkYXRlIiwib2ZmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/store.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();