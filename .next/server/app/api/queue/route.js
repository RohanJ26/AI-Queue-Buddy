"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/queue/route";
exports.ids = ["app/api/queue/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fqueue%2Froute&page=%2Fapi%2Fqueue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fqueue%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fqueue%2Froute&page=%2Fapi%2Fqueue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fqueue%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_rohan_Downloads_ai_queue_buddy_app_api_queue_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/queue/route.js */ \"(rsc)/./app/api/queue/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/queue/route\",\n        pathname: \"/api/queue\",\n        filename: \"route\",\n        bundlePath: \"app/api/queue/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\rohan\\\\Downloads\\\\ai-queue-buddy\\\\app\\\\api\\\\queue\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_rohan_Downloads_ai_queue_buddy_app_api_queue_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/queue/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZxdWV1ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcXVldWUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZxdWV1ZSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNyb2hhbiU1Q0Rvd25sb2FkcyU1Q2FpLXF1ZXVlLWJ1ZGR5JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNyb2hhbiU1Q0Rvd25sb2FkcyU1Q2FpLXF1ZXVlLWJ1ZGR5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQjtBQUNuRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXF1ZXVlLWJ1ZGR5Lz8wYzEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHJvaGFuXFxcXERvd25sb2Fkc1xcXFxhaS1xdWV1ZS1idWRkeVxcXFxhcHBcXFxcYXBpXFxcXHF1ZXVlXFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9xdWV1ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3F1ZXVlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9xdWV1ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHJvaGFuXFxcXERvd25sb2Fkc1xcXFxhaS1xdWV1ZS1idWRkeVxcXFxhcHBcXFxcYXBpXFxcXHF1ZXVlXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9xdWV1ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fqueue%2Froute&page=%2Fapi%2Fqueue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fqueue%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/queue/route.js":
/*!********************************!*\
  !*** ./app/api/queue/route.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/store */ \"(rsc)/./lib/store.js\");\n\nasync function GET() {\n    return Response.json((0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.snapshot)());\n}\nasync function POST(req) {\n    const body = await req.json();\n    const action = body?.action || \"join\";\n    if (action === \"join\") {\n        const { name } = body;\n        const result = (0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.join)(name || \"Guest\");\n        return Response.json(result);\n    }\n    if (action === \"complete\") {\n        const result = (0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.completeNext)();\n        return Response.json({\n            completed: result?.id || null\n        });\n    }\n    if (action === \"disrupt\") {\n        const { message, delayMinutes } = body;\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.setDisruption)(message || \"Unexpected delay\", delayMinutes || 10);\n        return Response.json({\n            ok: true\n        });\n    }\n    if (action === \"clearDisruption\") {\n        (0,_lib_store__WEBPACK_IMPORTED_MODULE_0__.clearDisruption)();\n        return Response.json({\n            ok: true\n        });\n    }\n    return new Response(\"Invalid action\", {\n        status: 400\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3F1ZXVlL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyRjtBQUVwRixlQUFlSztJQUNwQixPQUFPQyxTQUFTQyxJQUFJLENBQUNOLG9EQUFRQTtBQUMvQjtBQUVPLGVBQWVPLEtBQUtDLEdBQUc7SUFDNUIsTUFBTUMsT0FBTyxNQUFNRCxJQUFJRixJQUFJO0lBQzNCLE1BQU1JLFNBQVNELE1BQU1DLFVBQVU7SUFDL0IsSUFBSUEsV0FBVyxRQUFRO1FBQ3JCLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUdGO1FBQ2pCLE1BQU1HLFNBQVNiLGdEQUFJQSxDQUFDWSxRQUFRO1FBQzVCLE9BQU9OLFNBQVNDLElBQUksQ0FBQ007SUFDdkI7SUFDQSxJQUFJRixXQUFXLFlBQVk7UUFDekIsTUFBTUUsU0FBU1gsd0RBQVlBO1FBQzNCLE9BQU9JLFNBQVNDLElBQUksQ0FBQztZQUFFTyxXQUFXRCxRQUFRRSxNQUFNO1FBQUs7SUFDdkQ7SUFDQSxJQUFJSixXQUFXLFdBQVc7UUFDeEIsTUFBTSxFQUFFSyxPQUFPLEVBQUVDLFlBQVksRUFBRSxHQUFHUDtRQUNsQ1AseURBQWFBLENBQUNhLFdBQVcsb0JBQW9CQyxnQkFBZ0I7UUFDN0QsT0FBT1gsU0FBU0MsSUFBSSxDQUFDO1lBQUVXLElBQUk7UUFBSztJQUNsQztJQUNBLElBQUlQLFdBQVcsbUJBQW1CO1FBQ2hDUCwyREFBZUE7UUFDZixPQUFPRSxTQUFTQyxJQUFJLENBQUM7WUFBRVcsSUFBSTtRQUFLO0lBQ2xDO0lBQ0EsT0FBTyxJQUFJWixTQUFTLGtCQUFrQjtRQUFFYSxRQUFRO0lBQUk7QUFDdEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1xdWV1ZS1idWRkeS8uL2FwcC9hcGkvcXVldWUvcm91dGUuanM/YmQ3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqb2luLCBzbmFwc2hvdCwgY29tcGxldGVOZXh0LCBzZXREaXNydXB0aW9uLCBjbGVhckRpc3J1cHRpb24gfSBmcm9tICdAL2xpYi9zdG9yZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHJldHVybiBSZXNwb25zZS5qc29uKHNuYXBzaG90KCkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXEpIHtcbiAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gIGNvbnN0IGFjdGlvbiA9IGJvZHk/LmFjdGlvbiB8fCAnam9pbic7XG4gIGlmIChhY3Rpb24gPT09ICdqb2luJykge1xuICAgIGNvbnN0IHsgbmFtZSB9ID0gYm9keTtcbiAgICBjb25zdCByZXN1bHQgPSBqb2luKG5hbWUgfHwgJ0d1ZXN0Jyk7XG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocmVzdWx0KTtcbiAgfVxuICBpZiAoYWN0aW9uID09PSAnY29tcGxldGUnKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gY29tcGxldGVOZXh0KCk7XG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBjb21wbGV0ZWQ6IHJlc3VsdD8uaWQgfHwgbnVsbCB9KTtcbiAgfVxuICBpZiAoYWN0aW9uID09PSAnZGlzcnVwdCcpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIGRlbGF5TWludXRlcyB9ID0gYm9keTtcbiAgICBzZXREaXNydXB0aW9uKG1lc3NhZ2UgfHwgJ1VuZXhwZWN0ZWQgZGVsYXknLCBkZWxheU1pbnV0ZXMgfHwgMTApO1xuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XG4gIH1cbiAgaWYgKGFjdGlvbiA9PT0gJ2NsZWFyRGlzcnVwdGlvbicpIHtcbiAgICBjbGVhckRpc3J1cHRpb24oKTtcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IG9rOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiBuZXcgUmVzcG9uc2UoJ0ludmFsaWQgYWN0aW9uJywgeyBzdGF0dXM6IDQwMCB9KTtcbn1cbiJdLCJuYW1lcyI6WyJqb2luIiwic25hcHNob3QiLCJjb21wbGV0ZU5leHQiLCJzZXREaXNydXB0aW9uIiwiY2xlYXJEaXNydXB0aW9uIiwiR0VUIiwiUmVzcG9uc2UiLCJqc29uIiwiUE9TVCIsInJlcSIsImJvZHkiLCJhY3Rpb24iLCJuYW1lIiwicmVzdWx0IiwiY29tcGxldGVkIiwiaWQiLCJtZXNzYWdlIiwiZGVsYXlNaW51dGVzIiwib2siLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/queue/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/store.js":
/*!**********************!*\
  !*** ./lib/store.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearDisruption: () => (/* binding */ clearDisruption),\n/* harmony export */   completeNext: () => (/* binding */ completeNext),\n/* harmony export */   getTicket: () => (/* binding */ getTicket),\n/* harmony export */   join: () => (/* binding */ join),\n/* harmony export */   offUpdate: () => (/* binding */ offUpdate),\n/* harmony export */   onUpdate: () => (/* binding */ onUpdate),\n/* harmony export */   setDisruption: () => (/* binding */ setDisruption),\n/* harmony export */   skip: () => (/* binding */ skip),\n/* harmony export */   snapshot: () => (/* binding */ snapshot)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Singleton-like module state\nconst emitter = global.__queue_emitter || new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\nif (!global.__queue_emitter) global.__queue_emitter = emitter;\nconst state = global.__queue_state || {\n    tickets: [],\n    disruptions: null,\n    lastUpdated: Date.now()\n};\nif (!global.__queue_state) global.__queue_state = state;\nfunction broadcast() {\n    state.lastUpdated = Date.now();\n    emitter.emit(\"update\", JSON.stringify(snapshot()));\n}\nfunction snapshot() {\n    // recompute positions & simple ETA\n    const active = state.tickets.filter((t)=>t.status === \"waiting\");\n    active.forEach((t, idx)=>t.position = idx + 1);\n    const avgPerPerson = 3; // minutes per ticket (demo)\n    active.forEach((t, idx)=>{\n        const base = idx * avgPerPerson;\n        const extra = state.disruptions?.delayMinutes || 0;\n        t.eta = new Date(Date.now() + (base + extra) * 60000).toISOString();\n    });\n    return {\n        tickets: state.tickets,\n        disruptions: state.disruptions,\n        serverTime: Date.now()\n    };\n}\nfunction join(name = \"Guest\") {\n    const id = (0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)();\n    state.tickets.push({\n        id,\n        name,\n        joinedAt: Date.now(),\n        status: \"waiting\",\n        position: 0,\n        eta: null\n    });\n    broadcast();\n    return {\n        id\n    };\n}\nfunction getTicket(id) {\n    return state.tickets.find((t)=>t.id === id);\n}\nfunction completeNext() {\n    const next = state.tickets.find((t)=>t.status === \"waiting\");\n    if (next) next.status = \"completed\";\n    broadcast();\n    return next;\n}\nfunction skip(id) {\n    const t = getTicket(id);\n    if (t && t.status === \"waiting\") {\n        t.status = \"skipped\";\n        broadcast();\n    }\n}\nfunction setDisruption(message, delayMinutes = 10) {\n    state.disruptions = {\n        message,\n        delayMinutes,\n        at: Date.now()\n    };\n    broadcast();\n}\nfunction clearDisruption() {\n    state.disruptions = null;\n    broadcast();\n}\nfunction onUpdate(fn) {\n    emitter.on(\"update\", fn);\n}\nfunction offUpdate(fn) {\n    emitter.off(\"update\", fn);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGliL3N0b3JlLmpzPzA0YWQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ2NyeXB0byc7XG5cbi8vIFNpbmdsZXRvbi1saWtlIG1vZHVsZSBzdGF0ZVxuY29uc3QgZW1pdHRlciA9IGdsb2JhbC5fX3F1ZXVlX2VtaXR0ZXIgfHwgbmV3IEV2ZW50RW1pdHRlcigpO1xuaWYgKCFnbG9iYWwuX19xdWV1ZV9lbWl0dGVyKSBnbG9iYWwuX19xdWV1ZV9lbWl0dGVyID0gZW1pdHRlcjtcblxuY29uc3Qgc3RhdGUgPSBnbG9iYWwuX19xdWV1ZV9zdGF0ZSB8fCB7XG4gIHRpY2tldHM6IFtdLCAvLyB7aWQsIG5hbWUsIGpvaW5lZEF0LCBzdGF0dXMsIGV0YSwgcG9zaXRpb259XG4gIGRpc3J1cHRpb25zOiBudWxsLCAvLyB7IG1lc3NhZ2UsIGRlbGF5TWludXRlcyB9XG4gIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpXG59O1xuaWYgKCFnbG9iYWwuX19xdWV1ZV9zdGF0ZSkgZ2xvYmFsLl9fcXVldWVfc3RhdGUgPSBzdGF0ZTtcblxuZnVuY3Rpb24gYnJvYWRjYXN0KCkge1xuICBzdGF0ZS5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gIGVtaXR0ZXIuZW1pdCgndXBkYXRlJywgSlNPTi5zdHJpbmdpZnkoc25hcHNob3QoKSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc25hcHNob3QoKSB7XG4gIC8vIHJlY29tcHV0ZSBwb3NpdGlvbnMgJiBzaW1wbGUgRVRBXG4gIGNvbnN0IGFjdGl2ZSA9IHN0YXRlLnRpY2tldHMuZmlsdGVyKHQgPT4gdC5zdGF0dXMgPT09ICd3YWl0aW5nJyk7XG4gIGFjdGl2ZS5mb3JFYWNoKCh0LCBpZHgpID0+IHQucG9zaXRpb24gPSBpZHggKyAxKTtcbiAgY29uc3QgYXZnUGVyUGVyc29uID0gMzsgLy8gbWludXRlcyBwZXIgdGlja2V0IChkZW1vKVxuICBhY3RpdmUuZm9yRWFjaCgodCwgaWR4KSA9PiB7XG4gICAgY29uc3QgYmFzZSA9IChpZHgpICogYXZnUGVyUGVyc29uO1xuICAgIGNvbnN0IGV4dHJhID0gc3RhdGUuZGlzcnVwdGlvbnM/LmRlbGF5TWludXRlcyB8fCAwO1xuICAgIHQuZXRhID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIChiYXNlICsgZXh0cmEpKjYwMDAwKS50b0lTT1N0cmluZygpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0aWNrZXRzOiBzdGF0ZS50aWNrZXRzLFxuICAgIGRpc3J1cHRpb25zOiBzdGF0ZS5kaXNydXB0aW9ucyxcbiAgICBzZXJ2ZXJUaW1lOiBEYXRlLm5vdygpXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqb2luKG5hbWU9J0d1ZXN0Jykge1xuICBjb25zdCBpZCA9IHJhbmRvbVVVSUQoKTtcbiAgc3RhdGUudGlja2V0cy5wdXNoKHsgaWQsIG5hbWUsIGpvaW5lZEF0OiBEYXRlLm5vdygpLCBzdGF0dXM6ICd3YWl0aW5nJywgcG9zaXRpb246IDAsIGV0YTogbnVsbCB9KTtcbiAgYnJvYWRjYXN0KCk7XG4gIHJldHVybiB7IGlkIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaWNrZXQoaWQpIHtcbiAgcmV0dXJuIHN0YXRlLnRpY2tldHMuZmluZCh0ID0+IHQuaWQgPT09IGlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZXRlTmV4dCgpIHtcbiAgY29uc3QgbmV4dCA9IHN0YXRlLnRpY2tldHMuZmluZCh0ID0+IHQuc3RhdHVzID09PSAnd2FpdGluZycpO1xuICBpZiAobmV4dCkgbmV4dC5zdGF0dXMgPSAnY29tcGxldGVkJztcbiAgYnJvYWRjYXN0KCk7XG4gIHJldHVybiBuZXh0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2tpcChpZCkge1xuICBjb25zdCB0ID0gZ2V0VGlja2V0KGlkKTtcbiAgaWYgKHQgJiYgdC5zdGF0dXMgPT09ICd3YWl0aW5nJykge1xuICAgIHQuc3RhdHVzID0gJ3NraXBwZWQnO1xuICAgIGJyb2FkY2FzdCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREaXNydXB0aW9uKG1lc3NhZ2UsIGRlbGF5TWludXRlcz0xMCkge1xuICBzdGF0ZS5kaXNydXB0aW9ucyA9IHsgbWVzc2FnZSwgZGVsYXlNaW51dGVzLCBhdDogRGF0ZS5ub3coKSB9O1xuICBicm9hZGNhc3QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRGlzcnVwdGlvbigpIHtcbiAgc3RhdGUuZGlzcnVwdGlvbnMgPSBudWxsO1xuICBicm9hZGNhc3QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVXBkYXRlKGZuKSB7IGVtaXR0ZXIub24oJ3VwZGF0ZScsIGZuKTsgfVxuZXhwb3J0IGZ1bmN0aW9uIG9mZlVwZGF0ZShmbikgeyBlbWl0dGVyLm9mZigndXBkYXRlJywgZm4pOyB9XG4iXSwibmFtZXMiOlsiRXZlbnRFbWl0dGVyIiwicmFuZG9tVVVJRCIsImVtaXR0ZXIiLCJnbG9iYWwiLCJfX3F1ZXVlX2VtaXR0ZXIiLCJzdGF0ZSIsIl9fcXVldWVfc3RhdGUiLCJ0aWNrZXRzIiwiZGlzcnVwdGlvbnMiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJub3ciLCJicm9hZGNhc3QiLCJlbWl0IiwiSlNPTiIsInN0cmluZ2lmeSIsInNuYXBzaG90IiwiYWN0aXZlIiwiZmlsdGVyIiwidCIsInN0YXR1cyIsImZvckVhY2giLCJpZHgiLCJwb3NpdGlvbiIsImF2Z1BlclBlcnNvbiIsImJhc2UiLCJleHRyYSIsImRlbGF5TWludXRlcyIsImV0YSIsInRvSVNPU3RyaW5nIiwic2VydmVyVGltZSIsImpvaW4iLCJuYW1lIiwiaWQiLCJwdXNoIiwiam9pbmVkQXQiLCJnZXRUaWNrZXQiLCJmaW5kIiwiY29tcGxldGVOZXh0IiwibmV4dCIsInNraXAiLCJzZXREaXNydXB0aW9uIiwibWVzc2FnZSIsImF0IiwiY2xlYXJEaXNydXB0aW9uIiwib25VcGRhdGUiLCJmbiIsIm9uIiwib2ZmVXBkYXRlIiwib2ZmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/store.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fqueue%2Froute&page=%2Fapi%2Fqueue%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fqueue%2Froute.js&appDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crohan%5CDownloads%5Cai-queue-buddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();